service: post-comment
provider:
  name: aws
  stage: dev
  runtime: python3.8
  region: us-west-2
  memorySize: 500
  environment:
    CORE_LAMBDA_FRAMEWORK: "1.0"
  deploymentBucket:
    name: aduro-data-dev # Deployment bucket name. Default is generated by the framework
    maxPreviousDeploymentArtifacts: 10 # On every deployment the framework prunes the bucket to remove artifacts older than this limit. The default is 5





package:
  exclude:
    - ./**
  include:
    - functions/social_networks/instagram/post_comment/**
    - core/**
    - '!**/.pytest_cache/**'
    - '!**/__pycache__/**'

plugins:
  - serverless-step-functions
  - serverless-pseudo-parameters
  - serverless-python-requirements




custom:
  pythonRequirements:
    usePipenv: false
    useDownloadCache: false
    fileName: post_comment_requirements.txt
    useStaticCache: false
    dockerizePip: non-linux
    zip: true
    noDeploy:
      - pytest

  externalConfigurations:

    comment_func_role: arn:aws:iam::762035899142:role/lambda_execution_role_dev

    relative_function_path: functions/social_networks/instagram/post_comment


functions:
  - ${file(./functions/social_networks/instagram/post_comment/functions.yml)}